{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = global || self, global.SanityImageUrlBuilder = factory());\n})(this, function () {\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n      return target;\n    };\n    return _extends.apply(this, arguments);\n  }\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n    return arr2;\n  }\n  function _createForOfIteratorHelperLoose(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n    if (it) return (it = it.call(o)).next.bind(it);\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      return function () {\n        if (i >= o.length) return {\n          done: true\n        };\n        return {\n          done: false,\n          value: o[i++]\n        };\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var example = 'image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg';\n  function parseAssetId(ref) {\n    var _ref$split = ref.split('-'),\n      id = _ref$split[1],\n      dimensionString = _ref$split[2],\n      format = _ref$split[3];\n    if (!id || !dimensionString || !format) {\n      throw new Error(\"Malformed asset _ref '\" + ref + \"'. Expected an id like \\\"\" + example + \"\\\".\");\n    }\n    var _dimensionString$spli = dimensionString.split('x'),\n      imgWidthStr = _dimensionString$spli[0],\n      imgHeightStr = _dimensionString$spli[1];\n    var width = +imgWidthStr;\n    var height = +imgHeightStr;\n    var isValidAssetId = isFinite(width) && isFinite(height);\n    if (!isValidAssetId) {\n      throw new Error(\"Malformed asset _ref '\" + ref + \"'. Expected an id like \\\"\" + example + \"\\\".\");\n    }\n    return {\n      id: id,\n      width: width,\n      height: height,\n      format: format\n    };\n  }\n  var isRef = function isRef(src) {\n    var source = src;\n    return source ? typeof source._ref === 'string' : false;\n  };\n  var isAsset = function isAsset(src) {\n    var source = src;\n    return source ? typeof source._id === 'string' : false;\n  };\n  var isAssetStub = function isAssetStub(src) {\n    var source = src;\n    return source && source.asset ? typeof source.asset.url === 'string' : false;\n  }; // Convert an asset-id, asset or image to an image record suitable for processing\n  // eslint-disable-next-line complexity\n\n  function parseSource(source) {\n    if (!source) {\n      return null;\n    }\n    var image;\n    if (typeof source === 'string' && isUrl(source)) {\n      // Someone passed an existing image url?\n      image = {\n        asset: {\n          _ref: urlToId(source)\n        }\n      };\n    } else if (typeof source === 'string') {\n      // Just an asset id\n      image = {\n        asset: {\n          _ref: source\n        }\n      };\n    } else if (isRef(source)) {\n      // We just got passed an asset directly\n      image = {\n        asset: source\n      };\n    } else if (isAsset(source)) {\n      // If we were passed an image asset document\n      image = {\n        asset: {\n          _ref: source._id || ''\n        }\n      };\n    } else if (isAssetStub(source)) {\n      // If we were passed a partial asset (`url`, but no `_id`)\n      image = {\n        asset: {\n          _ref: urlToId(source.asset.url)\n        }\n      };\n    } else if (typeof source.asset === 'object') {\n      // Probably an actual image with materialized asset\n      image = _extends({}, source);\n    } else {\n      // We got something that does not look like an image, or it is an image\n      // that currently isn't sporting an asset.\n      return null;\n    }\n    var img = source;\n    if (img.crop) {\n      image.crop = img.crop;\n    }\n    if (img.hotspot) {\n      image.hotspot = img.hotspot;\n    }\n    return applyDefaults(image);\n  }\n  function isUrl(url) {\n    return /^https?:\\/\\//.test(\"\" + url);\n  }\n  function urlToId(url) {\n    var parts = url.split('/').slice(-1);\n    return (\"image-\" + parts[0]).replace(/\\.([a-z]+)$/, '-$1');\n  } // Mock crop and hotspot if image lacks it\n\n  function applyDefaults(image) {\n    if (image.crop && image.hotspot) {\n      return image;\n    } // We need to pad in default values for crop or hotspot\n\n    var result = _extends({}, image);\n    if (!result.crop) {\n      result.crop = {\n        left: 0,\n        top: 0,\n        bottom: 0,\n        right: 0\n      };\n    }\n    if (!result.hotspot) {\n      result.hotspot = {\n        x: 0.5,\n        y: 0.5,\n        height: 1.0,\n        width: 1.0\n      };\n    }\n    return result;\n  }\n  var SPEC_NAME_TO_URL_NAME_MAPPINGS = [['width', 'w'], ['height', 'h'], ['format', 'fm'], ['download', 'dl'], ['blur', 'blur'], ['sharpen', 'sharp'], ['invert', 'invert'], ['orientation', 'or'], ['minHeight', 'min-h'], ['maxHeight', 'max-h'], ['minWidth', 'min-w'], ['maxWidth', 'max-w'], ['quality', 'q'], ['fit', 'fit'], ['crop', 'crop'], ['saturation', 'sat'], ['auto', 'auto'], ['dpr', 'dpr'], ['pad', 'pad']];\n  function urlForImage(options) {\n    var spec = _extends({}, options || {});\n    var source = spec.source;\n    delete spec.source;\n    var image = parseSource(source);\n    if (!image) {\n      throw new Error(\"Unable to resolve image URL from source (\" + JSON.stringify(source) + \")\");\n    }\n    var id = image.asset._ref || image.asset._id || '';\n    var asset = parseAssetId(id); // Compute crop rect in terms of pixel coordinates in the raw source image\n\n    var cropLeft = Math.round(image.crop.left * asset.width);\n    var cropTop = Math.round(image.crop.top * asset.height);\n    var crop = {\n      left: cropLeft,\n      top: cropTop,\n      width: Math.round(asset.width - image.crop.right * asset.width - cropLeft),\n      height: Math.round(asset.height - image.crop.bottom * asset.height - cropTop)\n    }; // Compute hot spot rect in terms of pixel coordinates\n\n    var hotSpotVerticalRadius = image.hotspot.height * asset.height / 2;\n    var hotSpotHorizontalRadius = image.hotspot.width * asset.width / 2;\n    var hotSpotCenterX = image.hotspot.x * asset.width;\n    var hotSpotCenterY = image.hotspot.y * asset.height;\n    var hotspot = {\n      left: hotSpotCenterX - hotSpotHorizontalRadius,\n      top: hotSpotCenterY - hotSpotVerticalRadius,\n      right: hotSpotCenterX + hotSpotHorizontalRadius,\n      bottom: hotSpotCenterY + hotSpotVerticalRadius\n    }; // If irrelevant, or if we are requested to: don't perform crop/fit based on\n    // the crop/hotspot.\n\n    if (!(spec.rect || spec.focalPoint || spec.ignoreImageParams || spec.crop)) {\n      spec = _extends({}, spec, fit({\n        crop: crop,\n        hotspot: hotspot\n      }, spec));\n    }\n    return specToImageUrl(_extends({}, spec, {\n      asset: asset\n    }));\n  } // eslint-disable-next-line complexity\n\n  function specToImageUrl(spec) {\n    var cdnUrl = (spec.baseUrl || 'https://cdn.sanity.io').replace(/\\/+$/, '');\n    var filename = spec.asset.id + \"-\" + spec.asset.width + \"x\" + spec.asset.height + \".\" + spec.asset.format;\n    var baseUrl = cdnUrl + \"/images/\" + spec.projectId + \"/\" + spec.dataset + \"/\" + filename;\n    var params = [];\n    if (spec.rect) {\n      // Only bother url with a crop if it actually crops anything\n      var _spec$rect = spec.rect,\n        left = _spec$rect.left,\n        top = _spec$rect.top,\n        width = _spec$rect.width,\n        height = _spec$rect.height;\n      var isEffectiveCrop = left !== 0 || top !== 0 || height !== spec.asset.height || width !== spec.asset.width;\n      if (isEffectiveCrop) {\n        params.push(\"rect=\" + left + \",\" + top + \",\" + width + \",\" + height);\n      }\n    }\n    if (spec.bg) {\n      params.push(\"bg=\" + spec.bg);\n    }\n    if (spec.focalPoint) {\n      params.push(\"fp-x=\" + spec.focalPoint.x);\n      params.push(\"fp-y=\" + spec.focalPoint.y);\n    }\n    var flip = [spec.flipHorizontal && 'h', spec.flipVertical && 'v'].filter(Boolean).join('');\n    if (flip) {\n      params.push(\"flip=\" + flip);\n    } // Map from spec name to url param name, and allow using the actual param name as an alternative\n\n    SPEC_NAME_TO_URL_NAME_MAPPINGS.forEach(function (mapping) {\n      var specName = mapping[0],\n        param = mapping[1];\n      if (typeof spec[specName] !== 'undefined') {\n        params.push(param + \"=\" + encodeURIComponent(spec[specName]));\n      } else if (typeof spec[param] !== 'undefined') {\n        params.push(param + \"=\" + encodeURIComponent(spec[param]));\n      }\n    });\n    if (params.length === 0) {\n      return baseUrl;\n    }\n    return baseUrl + \"?\" + params.join('&');\n  }\n  function fit(source, spec) {\n    var cropRect;\n    var imgWidth = spec.width;\n    var imgHeight = spec.height; // If we are not constraining the aspect ratio, we'll just use the whole crop\n\n    if (!(imgWidth && imgHeight)) {\n      return {\n        width: imgWidth,\n        height: imgHeight,\n        rect: source.crop\n      };\n    }\n    var crop = source.crop;\n    var hotspot = source.hotspot; // If we are here, that means aspect ratio is locked and fitting will be a bit harder\n\n    var desiredAspectRatio = imgWidth / imgHeight;\n    var cropAspectRatio = crop.width / crop.height;\n    if (cropAspectRatio > desiredAspectRatio) {\n      // The crop is wider than the desired aspect ratio. That means we are cutting from the sides\n      var height = Math.round(crop.height);\n      var width = Math.round(height * desiredAspectRatio);\n      var top = Math.max(0, Math.round(crop.top)); // Center output horizontally over hotspot\n\n      var hotspotXCenter = Math.round((hotspot.right - hotspot.left) / 2 + hotspot.left);\n      var left = Math.max(0, Math.round(hotspotXCenter - width / 2)); // Keep output within crop\n\n      if (left < crop.left) {\n        left = crop.left;\n      } else if (left + width > crop.left + crop.width) {\n        left = crop.left + crop.width - width;\n      }\n      cropRect = {\n        left: left,\n        top: top,\n        width: width,\n        height: height\n      };\n    } else {\n      // The crop is taller than the desired ratio, we are cutting from top and bottom\n      var _width = crop.width;\n      var _height = Math.round(_width / desiredAspectRatio);\n      var _left = Math.max(0, Math.round(crop.left)); // Center output vertically over hotspot\n\n      var hotspotYCenter = Math.round((hotspot.bottom - hotspot.top) / 2 + hotspot.top);\n      var _top = Math.max(0, Math.round(hotspotYCenter - _height / 2)); // Keep output rect within crop\n\n      if (_top < crop.top) {\n        _top = crop.top;\n      } else if (_top + _height > crop.top + crop.height) {\n        _top = crop.top + crop.height - _height;\n      }\n      cropRect = {\n        left: _left,\n        top: _top,\n        width: _width,\n        height: _height\n      };\n    }\n    return {\n      width: imgWidth,\n      height: imgHeight,\n      rect: cropRect\n    };\n  } // For backwards-compatibility\n\n  var validFits = ['clip', 'crop', 'fill', 'fillmax', 'max', 'scale', 'min'];\n  var validCrops = ['top', 'bottom', 'left', 'right', 'center', 'focalpoint', 'entropy'];\n  var validAutoModes = ['format'];\n  function isSanityModernClientLike(client) {\n    return client && 'config' in client ? typeof client.config === 'function' : false;\n  }\n  function isSanityClientLike(client) {\n    return client && 'clientConfig' in client ? typeof client.clientConfig === 'object' : false;\n  }\n  function rewriteSpecName(key) {\n    var specs = SPEC_NAME_TO_URL_NAME_MAPPINGS;\n    for (var _iterator = _createForOfIteratorHelperLoose(specs), _step; !(_step = _iterator()).done;) {\n      var entry = _step.value;\n      var specName = entry[0],\n        param = entry[1];\n      if (key === specName || key === param) {\n        return specName;\n      }\n    }\n    return key;\n  }\n  function urlBuilder(options) {\n    // Did we get a modernish client?\n    if (isSanityModernClientLike(options)) {\n      // Inherit config from client\n      var _options$config = options.config(),\n        apiUrl = _options$config.apiHost,\n        projectId = _options$config.projectId,\n        dataset = _options$config.dataset;\n      var apiHost = apiUrl || 'https://api.sanity.io';\n      return new ImageUrlBuilder(null, {\n        baseUrl: apiHost.replace(/^https:\\/\\/api\\./, 'https://cdn.'),\n        projectId: projectId,\n        dataset: dataset\n      });\n    } // Did we get a SanityClient?\n\n    var client = options;\n    if (isSanityClientLike(client)) {\n      // Inherit config from client\n      var _client$clientConfig = client.clientConfig,\n        _apiUrl = _client$clientConfig.apiHost,\n        _projectId = _client$clientConfig.projectId,\n        _dataset = _client$clientConfig.dataset;\n      var _apiHost = _apiUrl || 'https://api.sanity.io';\n      return new ImageUrlBuilder(null, {\n        baseUrl: _apiHost.replace(/^https:\\/\\/api\\./, 'https://cdn.'),\n        projectId: _projectId,\n        dataset: _dataset\n      });\n    } // Or just accept the options as given\n\n    return new ImageUrlBuilder(null, options);\n  }\n  var ImageUrlBuilder = /*#__PURE__*/function () {\n    function ImageUrlBuilder(parent, options) {\n      this.options = void 0;\n      this.options = parent ? _extends({}, parent.options || {}, options || {}) // Merge parent options\n      : _extends({}, options || {}); // Copy options\n    }\n    var _proto = ImageUrlBuilder.prototype;\n    _proto.withOptions = function withOptions(options) {\n      var baseUrl = options.baseUrl || this.options.baseUrl;\n      var newOptions = {\n        baseUrl: baseUrl\n      };\n      for (var key in options) {\n        if (options.hasOwnProperty(key)) {\n          var specKey = rewriteSpecName(key);\n          newOptions[specKey] = options[key];\n        }\n      }\n      return new ImageUrlBuilder(this, _extends({\n        baseUrl: baseUrl\n      }, newOptions));\n    } // The image to be represented. Accepts a Sanity 'image'-document, 'asset'-document or\n    // _id of asset. To get the benefit of automatic hot-spot/crop integration with the content\n    // studio, the 'image'-document must be provided.\n    ;\n    _proto.image = function image(source) {\n      return this.withOptions({\n        source: source\n      });\n    } // Specify the dataset\n    ;\n    _proto.dataset = function dataset(_dataset2) {\n      return this.withOptions({\n        dataset: _dataset2\n      });\n    } // Specify the projectId\n    ;\n    _proto.projectId = function projectId(_projectId2) {\n      return this.withOptions({\n        projectId: _projectId2\n      });\n    } // Specify background color\n    ;\n    _proto.bg = function bg(_bg) {\n      return this.withOptions({\n        bg: _bg\n      });\n    } // Set DPR scaling factor\n    ;\n    _proto.dpr = function dpr(_dpr) {\n      // A DPR of 1 is the default - so only include it if we have a different value\n      return this.withOptions(_dpr && _dpr !== 1 ? {\n        dpr: _dpr\n      } : {});\n    } // Specify the width of the image in pixels\n    ;\n    _proto.width = function width(_width) {\n      return this.withOptions({\n        width: _width\n      });\n    } // Specify the height of the image in pixels\n    ;\n    _proto.height = function height(_height) {\n      return this.withOptions({\n        height: _height\n      });\n    } // Specify focal point in fraction of image dimensions. Each component 0.0-1.0\n    ;\n    _proto.focalPoint = function focalPoint(x, y) {\n      return this.withOptions({\n        focalPoint: {\n          x: x,\n          y: y\n        }\n      });\n    };\n    _proto.maxWidth = function maxWidth(_maxWidth) {\n      return this.withOptions({\n        maxWidth: _maxWidth\n      });\n    };\n    _proto.minWidth = function minWidth(_minWidth) {\n      return this.withOptions({\n        minWidth: _minWidth\n      });\n    };\n    _proto.maxHeight = function maxHeight(_maxHeight) {\n      return this.withOptions({\n        maxHeight: _maxHeight\n      });\n    };\n    _proto.minHeight = function minHeight(_minHeight) {\n      return this.withOptions({\n        minHeight: _minHeight\n      });\n    } // Specify width and height in pixels\n    ;\n    _proto.size = function size(width, height) {\n      return this.withOptions({\n        width: width,\n        height: height\n      });\n    } // Specify blur between 0 and 100\n    ;\n    _proto.blur = function blur(_blur) {\n      return this.withOptions({\n        blur: _blur\n      });\n    };\n    _proto.sharpen = function sharpen(_sharpen) {\n      return this.withOptions({\n        sharpen: _sharpen\n      });\n    } // Specify the desired rectangle of the image\n    ;\n    _proto.rect = function rect(left, top, width, height) {\n      return this.withOptions({\n        rect: {\n          left: left,\n          top: top,\n          width: width,\n          height: height\n        }\n      });\n    } // Specify the image format of the image. 'jpg', 'pjpg', 'png', 'webp'\n    ;\n    _proto.format = function format(_format) {\n      return this.withOptions({\n        format: _format\n      });\n    };\n    _proto.invert = function invert(_invert) {\n      return this.withOptions({\n        invert: _invert\n      });\n    } // Rotation in degrees 0, 90, 180, 270\n    ;\n    _proto.orientation = function orientation(_orientation) {\n      return this.withOptions({\n        orientation: _orientation\n      });\n    } // Compression quality 0-100\n    ;\n    _proto.quality = function quality(_quality) {\n      return this.withOptions({\n        quality: _quality\n      });\n    } // Make it a download link. Parameter is default filename.\n    ;\n    _proto.forceDownload = function forceDownload(download) {\n      return this.withOptions({\n        download: download\n      });\n    } // Flip image horizontally\n    ;\n    _proto.flipHorizontal = function flipHorizontal() {\n      return this.withOptions({\n        flipHorizontal: true\n      });\n    } // Flip image vertically\n    ;\n    _proto.flipVertical = function flipVertical() {\n      return this.withOptions({\n        flipVertical: true\n      });\n    } // Ignore crop/hotspot from image record, even when present\n    ;\n    _proto.ignoreImageParams = function ignoreImageParams() {\n      return this.withOptions({\n        ignoreImageParams: true\n      });\n    };\n    _proto.fit = function fit(value) {\n      if (validFits.indexOf(value) === -1) {\n        throw new Error(\"Invalid fit mode \\\"\" + value + \"\\\"\");\n      }\n      return this.withOptions({\n        fit: value\n      });\n    };\n    _proto.crop = function crop(value) {\n      if (validCrops.indexOf(value) === -1) {\n        throw new Error(\"Invalid crop mode \\\"\" + value + \"\\\"\");\n      }\n      return this.withOptions({\n        crop: value\n      });\n    } // Saturation\n    ;\n    _proto.saturation = function saturation(_saturation) {\n      return this.withOptions({\n        saturation: _saturation\n      });\n    };\n    _proto.auto = function auto(value) {\n      if (validAutoModes.indexOf(value) === -1) {\n        throw new Error(\"Invalid auto mode \\\"\" + value + \"\\\"\");\n      }\n      return this.withOptions({\n        auto: value\n      });\n    } // Specify the number of pixels to pad the image\n    ;\n    _proto.pad = function pad(_pad) {\n      return this.withOptions({\n        pad: _pad\n      });\n    } // Gets the url based on the submitted parameters\n    ;\n    _proto.url = function url() {\n      return urlForImage(this.options);\n    } // Alias for url()\n    ;\n    _proto.toString = function toString() {\n      return this.url();\n    };\n    return ImageUrlBuilder;\n  }();\n  return urlBuilder;\n});","map":{"version":3,"names":["example","parseAssetId","ref","_ref$split","split","id","dimensionString","format","Error","_dimensionString$spli","imgWidthStr","imgHeightStr","width","height","isValidAssetId","isFinite","isRef","src","source","_ref","isAsset","_id","isAssetStub","asset","url","parseSource","image","isUrl","urlToId","_extends","img","crop","hotspot","applyDefaults","test","parts","slice","replace","result","left","top","bottom","right","x","y","SPEC_NAME_TO_URL_NAME_MAPPINGS","urlForImage","options","spec","JSON","stringify","cropLeft","Math","round","cropTop","hotSpotVerticalRadius","hotSpotHorizontalRadius","hotSpotCenterX","hotSpotCenterY","rect","focalPoint","ignoreImageParams","fit","specToImageUrl","cdnUrl","baseUrl","filename","projectId","dataset","params","_spec$rect","isEffectiveCrop","push","bg","flip","flipHorizontal","flipVertical","filter","Boolean","join","forEach","mapping","specName","param","encodeURIComponent","length","cropRect","imgWidth","imgHeight","desiredAspectRatio","cropAspectRatio","max","hotspotXCenter","_width","_height","_left","hotspotYCenter","_top","validFits","validCrops","validAutoModes","isSanityModernClientLike","client","config","isSanityClientLike","clientConfig","rewriteSpecName","key","specs","_iterator","_createForOfIteratorHelperLoose","_step","done","entry","value","urlBuilder","_options$config","apiUrl","apiHost","ImageUrlBuilder","_client$clientConfig","_apiUrl","_projectId","_dataset","_apiHost","parent","_proto","prototype","withOptions","newOptions","hasOwnProperty","specKey","_dataset2","_projectId2","_bg","dpr","_dpr","maxWidth","_maxWidth","minWidth","_minWidth","maxHeight","_maxHeight","minHeight","_minHeight","size","blur","_blur","sharpen","_sharpen","_format","invert","_invert","orientation","_orientation","quality","_quality","forceDownload","download","indexOf","saturation","_saturation","auto","pad","_pad","toString"],"sources":["C:\\Users\\yabuti\\yabuti\\frontend\\node_modules\\@sanity\\image-url\\src\\parseAssetId.ts","C:\\Users\\yabuti\\yabuti\\frontend\\node_modules\\@sanity\\image-url\\src\\parseSource.ts","C:\\Users\\yabuti\\yabuti\\frontend\\node_modules\\@sanity\\image-url\\src\\urlForImage.ts","C:\\Users\\yabuti\\yabuti\\frontend\\node_modules\\@sanity\\image-url\\src\\builder.ts"],"sourcesContent":["const example = 'image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg'\n\nexport default function parseAssetId(ref: string) {\n  const [, id, dimensionString, format] = ref.split('-')\n\n  if (!id || !dimensionString || !format) {\n    throw new Error(`Malformed asset _ref '${ref}'. Expected an id like \"${example}\".`)\n  }\n\n  const [imgWidthStr, imgHeightStr] = dimensionString.split('x')\n\n  const width = +imgWidthStr\n  const height = +imgHeightStr\n\n  const isValidAssetId = isFinite(width) && isFinite(height)\n  if (!isValidAssetId) {\n    throw new Error(`Malformed asset _ref '${ref}'. Expected an id like \"${example}\".`)\n  }\n\n  return {id, width, height, format}\n}\n","import {\n  SanityAsset,\n  SanityImageObject,\n  SanityImageSource,\n  SanityImageWithAssetStub,\n  SanityReference,\n} from './types'\n\nconst isRef = (src: SanityImageSource): src is SanityReference => {\n  const source = src as SanityReference\n  return source ? typeof source._ref === 'string' : false\n}\n\nconst isAsset = (src: SanityImageSource): src is SanityAsset => {\n  const source = src as SanityAsset\n  return source ? typeof source._id === 'string' : false\n}\n\nconst isAssetStub = (src: SanityImageSource): src is SanityImageWithAssetStub => {\n  const source = src as SanityImageWithAssetStub\n  return source && source.asset ? typeof source.asset.url === 'string' : false\n}\n\n// Convert an asset-id, asset or image to an image record suitable for processing\n// eslint-disable-next-line complexity\nexport default function parseSource(source?: SanityImageSource) {\n  if (!source) {\n    return null\n  }\n\n  let image: SanityImageObject\n\n  if (typeof source === 'string' && isUrl(source)) {\n    // Someone passed an existing image url?\n    image = {\n      asset: {_ref: urlToId(source)},\n    }\n  } else if (typeof source === 'string') {\n    // Just an asset id\n    image = {\n      asset: {_ref: source},\n    }\n  } else if (isRef(source)) {\n    // We just got passed an asset directly\n    image = {\n      asset: source,\n    }\n  } else if (isAsset(source)) {\n    // If we were passed an image asset document\n    image = {\n      asset: {\n        _ref: source._id || '',\n      },\n    }\n  } else if (isAssetStub(source)) {\n    // If we were passed a partial asset (`url`, but no `_id`)\n    image = {\n      asset: {\n        _ref: urlToId(source.asset.url),\n      },\n    }\n  } else if (typeof source.asset === 'object') {\n    // Probably an actual image with materialized asset\n    image = {...source}\n  } else {\n    // We got something that does not look like an image, or it is an image\n    // that currently isn't sporting an asset.\n    return null\n  }\n\n  const img = source as SanityImageObject\n  if (img.crop) {\n    image.crop = img.crop\n  }\n\n  if (img.hotspot) {\n    image.hotspot = img.hotspot\n  }\n\n  return applyDefaults(image)\n}\n\nfunction isUrl(url: string) {\n  return /^https?:\\/\\//.test(`${url}`)\n}\n\nfunction urlToId(url: string) {\n  const parts = url.split('/').slice(-1)\n  return `image-${parts[0]}`.replace(/\\.([a-z]+)$/, '-$1')\n}\n\n// Mock crop and hotspot if image lacks it\nfunction applyDefaults(image: SanityImageObject) {\n  if (image.crop && image.hotspot) {\n    return image as Required<SanityImageObject>\n  }\n\n  // We need to pad in default values for crop or hotspot\n  const result = {...image}\n\n  if (!result.crop) {\n    result.crop = {\n      left: 0,\n      top: 0,\n      bottom: 0,\n      right: 0,\n    }\n  }\n\n  if (!result.hotspot) {\n    result.hotspot = {\n      x: 0.5,\n      y: 0.5,\n      height: 1.0,\n      width: 1.0,\n    }\n  }\n\n  return result as Required<SanityImageObject>\n}\n","import parseAssetId from './parseAssetId'\nimport parseSource from './parseSource'\nimport {\n  CropSpec,\n  HotspotSpec,\n  ImageUrlBuilderOptions,\n  ImageUrlBuilderOptionsWithAsset,\n  SanityAsset,\n  SanityImageFitResult,\n  SanityImageRect,\n  SanityReference,\n} from './types'\n\nexport const SPEC_NAME_TO_URL_NAME_MAPPINGS = [\n  ['width', 'w'],\n  ['height', 'h'],\n  ['format', 'fm'],\n  ['download', 'dl'],\n  ['blur', 'blur'],\n  ['sharpen', 'sharp'],\n  ['invert', 'invert'],\n  ['orientation', 'or'],\n  ['minHeight', 'min-h'],\n  ['maxHeight', 'max-h'],\n  ['minWidth', 'min-w'],\n  ['maxWidth', 'max-w'],\n  ['quality', 'q'],\n  ['fit', 'fit'],\n  ['crop', 'crop'],\n  ['saturation', 'sat'],\n  ['auto', 'auto'],\n  ['dpr', 'dpr'],\n  ['pad', 'pad'],\n]\n\nexport default function urlForImage(options: ImageUrlBuilderOptions): string {\n  let spec = {...(options || {})}\n  const source = spec.source\n  delete spec.source\n\n  const image = parseSource(source)\n  if (!image) {\n    throw new Error(`Unable to resolve image URL from source (${JSON.stringify(source)})`)\n  }\n\n  const id = (image.asset as SanityReference)._ref || (image.asset as SanityAsset)._id || ''\n  const asset = parseAssetId(id)\n\n  // Compute crop rect in terms of pixel coordinates in the raw source image\n  const cropLeft = Math.round(image.crop.left * asset.width)\n  const cropTop = Math.round(image.crop.top * asset.height)\n  const crop = {\n    left: cropLeft,\n    top: cropTop,\n    width: Math.round(asset.width - image.crop.right * asset.width - cropLeft),\n    height: Math.round(asset.height - image.crop.bottom * asset.height - cropTop),\n  }\n\n  // Compute hot spot rect in terms of pixel coordinates\n  const hotSpotVerticalRadius = (image.hotspot.height * asset.height) / 2\n  const hotSpotHorizontalRadius = (image.hotspot.width * asset.width) / 2\n  const hotSpotCenterX = image.hotspot.x * asset.width\n  const hotSpotCenterY = image.hotspot.y * asset.height\n  const hotspot = {\n    left: hotSpotCenterX - hotSpotHorizontalRadius,\n    top: hotSpotCenterY - hotSpotVerticalRadius,\n    right: hotSpotCenterX + hotSpotHorizontalRadius,\n    bottom: hotSpotCenterY + hotSpotVerticalRadius,\n  }\n\n  // If irrelevant, or if we are requested to: don't perform crop/fit based on\n  // the crop/hotspot.\n  if (!(spec.rect || spec.focalPoint || spec.ignoreImageParams || spec.crop)) {\n    spec = {...spec, ...fit({crop, hotspot}, spec)}\n  }\n\n  return specToImageUrl({...spec, asset})\n}\n\n// eslint-disable-next-line complexity\nfunction specToImageUrl(spec: ImageUrlBuilderOptionsWithAsset) {\n  const cdnUrl = (spec.baseUrl || 'https://cdn.sanity.io').replace(/\\/+$/, '')\n  const filename = `${spec.asset.id}-${spec.asset.width}x${spec.asset.height}.${spec.asset.format}`\n  const baseUrl = `${cdnUrl}/images/${spec.projectId}/${spec.dataset}/${filename}`\n\n  const params = []\n\n  if (spec.rect) {\n    // Only bother url with a crop if it actually crops anything\n    const {left, top, width, height} = spec.rect\n    const isEffectiveCrop =\n      left !== 0 || top !== 0 || height !== spec.asset.height || width !== spec.asset.width\n\n    if (isEffectiveCrop) {\n      params.push(`rect=${left},${top},${width},${height}`)\n    }\n  }\n\n  if (spec.bg) {\n    params.push(`bg=${spec.bg}`)\n  }\n\n  if (spec.focalPoint) {\n    params.push(`fp-x=${spec.focalPoint.x}`)\n    params.push(`fp-y=${spec.focalPoint.y}`)\n  }\n\n  const flip = [spec.flipHorizontal && 'h', spec.flipVertical && 'v'].filter(Boolean).join('')\n  if (flip) {\n    params.push(`flip=${flip}`)\n  }\n\n  // Map from spec name to url param name, and allow using the actual param name as an alternative\n  SPEC_NAME_TO_URL_NAME_MAPPINGS.forEach((mapping) => {\n    const [specName, param] = mapping\n    if (typeof spec[specName] !== 'undefined') {\n      params.push(`${param}=${encodeURIComponent(spec[specName])}`)\n    } else if (typeof spec[param] !== 'undefined') {\n      params.push(`${param}=${encodeURIComponent(spec[param])}`)\n    }\n  })\n\n  if (params.length === 0) {\n    return baseUrl\n  }\n\n  return `${baseUrl}?${params.join('&')}`\n}\n\nfunction fit(\n  source: {crop: CropSpec; hotspot: HotspotSpec},\n  spec: ImageUrlBuilderOptions\n): SanityImageFitResult {\n  let cropRect: SanityImageRect\n\n  const imgWidth = spec.width\n  const imgHeight = spec.height\n\n  // If we are not constraining the aspect ratio, we'll just use the whole crop\n  if (!(imgWidth && imgHeight)) {\n    return {width: imgWidth, height: imgHeight, rect: source.crop}\n  }\n\n  const crop = source.crop\n  const hotspot = source.hotspot\n\n  // If we are here, that means aspect ratio is locked and fitting will be a bit harder\n  const desiredAspectRatio = imgWidth / imgHeight\n  const cropAspectRatio = crop.width / crop.height\n\n  if (cropAspectRatio > desiredAspectRatio) {\n    // The crop is wider than the desired aspect ratio. That means we are cutting from the sides\n    const height = Math.round(crop.height)\n    const width = Math.round(height * desiredAspectRatio)\n    const top = Math.max(0, Math.round(crop.top))\n\n    // Center output horizontally over hotspot\n    const hotspotXCenter = Math.round((hotspot.right - hotspot.left) / 2 + hotspot.left)\n    let left = Math.max(0, Math.round(hotspotXCenter - width / 2))\n\n    // Keep output within crop\n    if (left < crop.left) {\n      left = crop.left\n    } else if (left + width > crop.left + crop.width) {\n      left = crop.left + crop.width - width\n    }\n\n    cropRect = {left, top, width, height}\n  } else {\n    // The crop is taller than the desired ratio, we are cutting from top and bottom\n    const width = crop.width\n    const height = Math.round(width / desiredAspectRatio)\n    const left = Math.max(0, Math.round(crop.left))\n\n    // Center output vertically over hotspot\n    const hotspotYCenter = Math.round((hotspot.bottom - hotspot.top) / 2 + hotspot.top)\n    let top = Math.max(0, Math.round(hotspotYCenter - height / 2))\n\n    // Keep output rect within crop\n    if (top < crop.top) {\n      top = crop.top\n    } else if (top + height > crop.top + crop.height) {\n      top = crop.top + crop.height - height\n    }\n\n    cropRect = {left, top, width, height}\n  }\n\n  return {\n    width: imgWidth,\n    height: imgHeight,\n    rect: cropRect,\n  }\n}\n\n// For backwards-compatibility\nexport {parseSource}\n","import {\n  AutoMode,\n  CropMode,\n  FitMode,\n  ImageFormat,\n  ImageUrlBuilderOptions,\n  ImageUrlBuilderOptionsWithAliases,\n  SanityModernClientLike,\n  Orientation,\n  SanityClientLike,\n  SanityImageSource,\n  SanityProjectDetails,\n} from './types'\nimport urlForImage, {SPEC_NAME_TO_URL_NAME_MAPPINGS} from './urlForImage'\n\nconst validFits = ['clip', 'crop', 'fill', 'fillmax', 'max', 'scale', 'min']\nconst validCrops = ['top', 'bottom', 'left', 'right', 'center', 'focalpoint', 'entropy']\nconst validAutoModes = ['format']\n\nfunction isSanityModernClientLike(\n  client?: SanityClientLike | SanityProjectDetails | SanityModernClientLike\n): client is SanityModernClientLike {\n  return client && 'config' in client ? typeof client.config === 'function' : false\n}\n\nfunction isSanityClientLike(\n  client?: SanityClientLike | SanityProjectDetails | SanityModernClientLike\n): client is SanityClientLike {\n  return client && 'clientConfig' in client ? typeof client.clientConfig === 'object' : false\n}\n\nfunction rewriteSpecName(key: string) {\n  const specs = SPEC_NAME_TO_URL_NAME_MAPPINGS\n  for (const entry of specs) {\n    const [specName, param] = entry\n    if (key === specName || key === param) {\n      return specName\n    }\n  }\n\n  return key\n}\n\nexport default function urlBuilder(\n  options?: SanityClientLike | SanityProjectDetails | SanityModernClientLike\n) {\n  // Did we get a modernish client?\n  if (isSanityModernClientLike(options)) {\n    // Inherit config from client\n    const {apiHost: apiUrl, projectId, dataset} = options.config()\n    const apiHost = apiUrl || 'https://api.sanity.io'\n    return new ImageUrlBuilder(null, {\n      baseUrl: apiHost.replace(/^https:\\/\\/api\\./, 'https://cdn.'),\n      projectId,\n      dataset,\n    })\n  }\n\n  // Did we get a SanityClient?\n  const client = options as SanityClientLike\n  if (isSanityClientLike(client)) {\n    // Inherit config from client\n    const {apiHost: apiUrl, projectId, dataset} = client.clientConfig\n    const apiHost = apiUrl || 'https://api.sanity.io'\n    return new ImageUrlBuilder(null, {\n      baseUrl: apiHost.replace(/^https:\\/\\/api\\./, 'https://cdn.'),\n      projectId,\n      dataset,\n    })\n  }\n\n  // Or just accept the options as given\n  return new ImageUrlBuilder(null, options as ImageUrlBuilderOptions)\n}\n\nexport class ImageUrlBuilder {\n  public options: ImageUrlBuilderOptions\n\n  constructor(parent: ImageUrlBuilder | null, options: ImageUrlBuilderOptions) {\n    this.options = parent\n      ? {...(parent.options || {}), ...(options || {})} // Merge parent options\n      : {...(options || {})} // Copy options\n  }\n\n  withOptions(options: Partial<ImageUrlBuilderOptionsWithAliases>) {\n    const baseUrl = options.baseUrl || this.options.baseUrl\n\n    const newOptions: {[key: string]: any} = {baseUrl}\n    for (const key in options) {\n      if (options.hasOwnProperty(key)) {\n        const specKey = rewriteSpecName(key)\n        newOptions[specKey] = options[key]\n      }\n    }\n\n    return new ImageUrlBuilder(this, {baseUrl, ...newOptions})\n  }\n\n  // The image to be represented. Accepts a Sanity 'image'-document, 'asset'-document or\n  // _id of asset. To get the benefit of automatic hot-spot/crop integration with the content\n  // studio, the 'image'-document must be provided.\n  image(source: SanityImageSource) {\n    return this.withOptions({source})\n  }\n\n  // Specify the dataset\n  dataset(dataset: string) {\n    return this.withOptions({dataset})\n  }\n\n  // Specify the projectId\n  projectId(projectId: string) {\n    return this.withOptions({projectId})\n  }\n\n  // Specify background color\n  bg(bg: string) {\n    return this.withOptions({bg})\n  }\n\n  // Set DPR scaling factor\n  dpr(dpr: number) {\n    // A DPR of 1 is the default - so only include it if we have a different value\n    return this.withOptions(dpr && dpr !== 1 ? {dpr} : {})\n  }\n\n  // Specify the width of the image in pixels\n  width(width: number) {\n    return this.withOptions({width})\n  }\n\n  // Specify the height of the image in pixels\n  height(height: number) {\n    return this.withOptions({height})\n  }\n\n  // Specify focal point in fraction of image dimensions. Each component 0.0-1.0\n  focalPoint(x: number, y: number) {\n    return this.withOptions({focalPoint: {x, y}})\n  }\n\n  maxWidth(maxWidth: number) {\n    return this.withOptions({maxWidth})\n  }\n\n  minWidth(minWidth: number) {\n    return this.withOptions({minWidth})\n  }\n\n  maxHeight(maxHeight: number) {\n    return this.withOptions({maxHeight})\n  }\n\n  minHeight(minHeight: number) {\n    return this.withOptions({minHeight})\n  }\n\n  // Specify width and height in pixels\n  size(width: number, height: number) {\n    return this.withOptions({width, height})\n  }\n\n  // Specify blur between 0 and 100\n  blur(blur: number) {\n    return this.withOptions({blur})\n  }\n\n  sharpen(sharpen: number) {\n    return this.withOptions({sharpen})\n  }\n\n  // Specify the desired rectangle of the image\n  rect(left: number, top: number, width: number, height: number) {\n    return this.withOptions({rect: {left, top, width, height}})\n  }\n\n  // Specify the image format of the image. 'jpg', 'pjpg', 'png', 'webp'\n  format(format: ImageFormat) {\n    return this.withOptions({format})\n  }\n\n  invert(invert: boolean) {\n    return this.withOptions({invert})\n  }\n\n  // Rotation in degrees 0, 90, 180, 270\n  orientation(orientation: Orientation) {\n    return this.withOptions({orientation})\n  }\n\n  // Compression quality 0-100\n  quality(quality: number) {\n    return this.withOptions({quality})\n  }\n\n  // Make it a download link. Parameter is default filename.\n  forceDownload(download: boolean | string) {\n    return this.withOptions({download})\n  }\n\n  // Flip image horizontally\n  flipHorizontal() {\n    return this.withOptions({flipHorizontal: true})\n  }\n\n  // Flip image vertically\n  flipVertical() {\n    return this.withOptions({flipVertical: true})\n  }\n\n  // Ignore crop/hotspot from image record, even when present\n  ignoreImageParams() {\n    return this.withOptions({ignoreImageParams: true})\n  }\n\n  fit(value: FitMode) {\n    if (validFits.indexOf(value) === -1) {\n      throw new Error(`Invalid fit mode \"${value}\"`)\n    }\n\n    return this.withOptions({fit: value})\n  }\n\n  crop(value: CropMode) {\n    if (validCrops.indexOf(value) === -1) {\n      throw new Error(`Invalid crop mode \"${value}\"`)\n    }\n\n    return this.withOptions({crop: value})\n  }\n\n  // Saturation\n  saturation(saturation: number) {\n    return this.withOptions({saturation})\n  }\n\n  auto(value: AutoMode) {\n    if (validAutoModes.indexOf(value) === -1) {\n      throw new Error(`Invalid auto mode \"${value}\"`)\n    }\n\n    return this.withOptions({auto: value})\n  }\n\n  // Specify the number of pixels to pad the image\n  pad(pad: number) {\n    return this.withOptions({pad})\n  }\n\n  // Gets the url based on the submitted parameters\n  url() {\n    return urlForImage(this.options)\n  }\n\n  // Alias for url()\n  toString() {\n    return this.url()\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}